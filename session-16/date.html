<!DOCTYPE html>
<html>
<head>
	<title>Demo</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style type="text/css">
	form {
		width: 350px;
		margin: auto;
		text-align: center;
	}
	optgroup {
		height: 300px;
	}
	button {
		margin-top: 10px;
	}
</style>
</head>
<body>
	<form method="post" action="">
		<fieldset>
			<legend>BirthDay</legend>
			<div>
				<b>Ng√†y sinh</b>
				<select name="day" id="day">
					<optgroup>
						<script type="text/javascript">
							var d = 31;
							for (var i = 1; i < d + 1; i++) {
								document.querySelector("#day optgroup").innerHTML += `<option>${i}</option>`;
							}
						</script>
					</optgroup>
				</select>
				<select name="month" id="month">
					<optgroup>
						<script type="text/javascript">
							for (var i = 1; i < 13; i++) {
								document.querySelector("#month optgroup").innerHTML += `<option>${i}</option>`;
							}
						</script>
					</optgroup>
				</select>
				<select name="year" id="year">
					<optgroup>
						<script type="text/javascript">
							for (var i = 1900; i < ((new Date()).getFullYear()) + 1; i++) {
								document.querySelector("#year optgroup").innerHTML += `<option>${i}</option>`;
							}
						</script>
					</optgroup>
				</select>
			</div>
			<button>Submit</button>
		</fieldset>	
	</form>

	<script type="text/javascript">
		var day = document.getElementById("day");
		var month = document.getElementById("month");
		var year = document.getElementById("year");
		var m;
		var y;
		var monthCheck31 = ['1', '3', '5', '7', '8', '10', '12'];
		var monthCheck30 = ['4', '6', '9', '11'];

		month.addEventListener('change', function() {
			if (monthCheck31.includes(month.value)) {
				d = 31;
				console.log(d);
			}
			else if (monthCheck30.includes(month.value)) {
				d = 30;
				console.log(d);
			}
			else {
				if (((year.value % 4 == 0) && (year.value % 100!= 0)) || (year.value % 400 == 0))
					d = 29;
				else
					d = 28;
			}
			document.querySelector("#day optgroup").innerHTML = "";
			for (var i = 1; i < d + 1; i++) {
				document.querySelector("#day optgroup").innerHTML += `<option>${i}</option>`;
			}
		});

		year.addEventListener('change', function() {
			if (month.value == 2) {
				if (((year.value % 4 == 0) && (year.value % 100!= 0)) || (year.value % 400 == 0))
					d = 29;
				else
					d = 28;
			}
			document.querySelector("#day optgroup").innerHTML = "";
			for (var i = 1; i < d + 1; i++) {
				document.querySelector("#day optgroup").innerHTML += `<option>${i}</option>`;
			}
		});

	</script>
</body>
</html>
